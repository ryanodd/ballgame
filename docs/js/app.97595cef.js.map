{"version":3,"file":"js/app.97595cef.js","mappings":"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","sources":["webpack://game/./node_modules/peerjs/dist/ sync","webpack://game/./src/Game/GameService/GameObject/GameObject.ts","webpack://game/./src/Game/GameService/GameObject/GameObjectFactory/Ball.ts","webpack://game/./src/Game/GameService/GameObject/GameObjectFactory/PulsePlayerObject.ts","webpack://game/./src/Game/GameService/GameObject/GameObjectFactory/Wall.ts","webpack://game/./src/Game/InputService/contants/noInputResult.ts","webpack://game/./src/Game/InputService/InputService.ts","webpack://game/./src/Game/GameService/Player/Player.ts","webpack://game/./src/Game/GameService/Player/PlayerTypes/PulsePlayer.ts","webpack://game/./src/Game/GameService/Scene/Scene.ts","webpack://game/./src/Game/GameService/Scene/SceneFactory/Scene1.ts","webpack://game/./src/Game/GameService/netplayjs/myGame.ts","webpack://game/./src/lib/netplayjs/ewmasd.ts","webpack://game/./src/Game/GameService/netplayjs/MyInput.ts","webpack://game/./src/Game/GameService/netplayjs/myRollbackWrapper.ts","webpack://game/./src/Game/InputService/contants/InputConfigDefaults.ts","webpack://game/./src/Game/InputService/model/InputResult.ts","webpack://game/./src/Game/VueService/VueService.ts","webpack://game/./src/lib/netplayjs/defaultinput.ts","webpack://game/./src/lib/netplayjs/game.ts","webpack://game/./src/lib/netplayjs/debugging.ts","webpack://game/./src/lib/netplayjs/netcode/rollback.ts","webpack://game/./src/lib/netplayjs/autoserialize.ts","webpack://game/./src/lib/netplayjs/types.ts","webpack://game/./src/lib/netplayjs/utils.ts","webpack://game/./src/Vue/App.vue?edab","webpack://game/./src/Vue/components/MainLayout.vue?1da1","webpack://game/./src/Vue/components/AspectRatioLetterbox.vue?df2c","webpack://game/./node_modules/@vue/vue-loader-v15/lib/index.js","webpack://game/./src/Vue/components/AspectRatioLetterbox.vue?ada8","webpack://game/./src/Vue/components/AspectRatioLetterbox.vue","webpack://game/./src/Vue/components/GameCanvas.vue?1e5f","webpack://game/./src/Vue/components/CanvasOverlay.vue?ce79","webpack://game/./src/Vue/components/HudSection.vue?3aa8","webpack://game/./src/Vue/components/PlayerMeter.vue?a0e2","webpack://game/./src/Vue/components/PlayerMeter.vue?1005","webpack://game/./src/Vue/components/PlayerMeter.vue","webpack://game/./src/Vue/components/HudSection.vue?5328","webpack://game/./src/Vue/components/HudSection.vue","webpack://game/./src/Vue/components/CanvasOverlay.vue?b58c","webpack://game/./src/Vue/components/CanvasOverlay.vue","webpack://game/./src/Vue/components/GameCanvas.vue?fbab","webpack://game/./src/Vue/components/GameCanvas.vue","webpack://game/./src/Vue/components/NetplayMenu.vue?9b02","webpack://game/./src/Vue/components/CardBox.vue?f00b","webpack://game/./src/Vue/components/CardBox.vue?4c2e","webpack://game/./src/Vue/components/CardBox.vue","webpack://game/./src/Vue/components/NetplayMenu.vue?f469","webpack://game/./src/Vue/components/NetplayMenu.vue","webpack://game/./src/Vue/components/NetplayStats.vue?389e","webpack://game/./src/Vue/components/NetplayStats.vue?ed24","webpack://game/./src/Vue/components/NetplayStats.vue","webpack://game/./src/Vue/components/MainLayout.vue?76aa","webpack://game/./src/Vue/components/MainLayout.vue","webpack://game/./src/Vue/App.vue?2e40","webpack://game/./src/Vue/App.vue","webpack://game/./src/main.ts","webpack://game/webpack/bootstrap","webpack://game/webpack/runtime/async module","webpack://game/webpack/runtime/chunk loaded","webpack://game/webpack/runtime/compat get default export","webpack://game/webpack/runtime/define property getters","webpack://game/webpack/runtime/global","webpack://game/webpack/runtime/harmony module decorator","webpack://game/webpack/runtime/hasOwnProperty shorthand","webpack://game/webpack/runtime/make namespace object","webpack://game/webpack/runtime/wasm loading","webpack://game/webpack/runtime/publicPath","webpack://game/webpack/runtime/jsonp chunk loading","webpack://game/webpack/startup"],"sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 5784;\nmodule.exports = webpackEmptyContext;","import { b2Body } from \"@/lib/Box2D/Box2D\";\nimport { Scene } from \"../Scene/Scene\";\n\n// This is used in place of 'any' for arbitrary data we want to attach to a b2 body.\n// The arbitrary data is needed because collisions trigger callbacks only with access to this arbitrary data.\nexport interface BodyUserData {\n  gameObject: GameObject;\n}\n\nexport interface GameObjectProps {\n  scene: Scene;\n\n  x: number;\n  y: number;\n} \n\nexport default abstract class GameObject {\n  abstract scene: Scene;\n  abstract body: b2Body; // Should all objects have bodies? Can use sensor-bodies if no collisions wanted. But still unnecessary a lot of the time.\n  markedForDeletion = false;\n\n  abstract render(canvas: HTMLCanvasElement): void;\n  tick(){\n    0; // so the compiler doesn't complain.\n  }\n}\n","import { b2Body, b2BodyDef, b2BodyType, b2CircleShape, b2FixtureDef, b2Vec2, b2World } from \"@/lib/Box2D/Box2D\";\nimport { Collider, ColliderDesc, ColliderHandle, RigidBody, RigidBodyDesc } from \"@dimforge/rapier2d\";\nimport { Scene } from \"../../Scene/Scene\";\nimport GameObject, { BodyUserData, GameObjectProps } from \"../GameObject\";\n\nexport interface BallProps extends GameObjectProps {\n  r: number;\n}\n\nexport default class Ball extends GameObject {\n  scene: Scene;\n  colliderHandle: ColliderHandle;\n  body: b2Body;\n  \n  constructor(props: BallProps){\n    super();\n    this.scene = props.scene;\n    this.colliderHandle = this.createCollider(props);\n  }\n\n  createCollider(props: BallProps){\n    const rigidBodyDesc = RigidBodyDesc.dynamic();\n    const rigidBody = this.scene.world.createRigidBody(rigidBodyDesc);\n\n    // Create a cuboid collider attached to the dynamic rigidBody.\n    const colliderDesc = ColliderDesc.ball(props.r).setTranslation(props.x + props.r, props.y + props.r);\n    const returnCollider = this.scene.world.createCollider(colliderDesc, rigidBody.handle).handle;\n    \n    return returnCollider;\n  }\n\n  // No tick\n\n  render(canvas: HTMLCanvasElement){\n    const c = canvas.getContext('2d');\n    c.fillStyle = 'rgb(200, 0, 0)';\n\n    const collider = this.scene.world.getCollider(this.colliderHandle)\n    const { x: xPosition, y: yPosition} = collider.translation(); \n    const radius = collider.radius()\n    \n    c.beginPath();\n    c.arc(xPosition, yPosition, radius, 0, Math.PI * 2, true); // Outer circle\n    c.fill();\n  }\n}\n","import { LogService } from \"@/Game/LogService/LogService\";\nimport { b2Body, b2BodyDef, b2BodyType, b2CircleShape, b2Fixture, b2FixtureDef, b2Vec2, b2World } from \"@/lib/Box2D/Box2D\";\nimport { Scene } from \"../../Scene/Scene\";\nimport GameObject, { BodyUserData, GameObjectProps } from \"../GameObject\";\nimport Bezier from \"bezierjs\"\nimport { ColliderDesc, ColliderHandle, RigidBodyDesc, Vector } from \"@dimforge/rapier2d\";\n\nexport interface PulsePlayerProps extends GameObjectProps {\n  r: number;\n  // density: number;\n  // friction: number;\n  // restitution: number;\n}\n\nexport default class PulsePlayerObject extends GameObject { // extend something general?\n  scene: Scene;\n  colliderHandle: ColliderHandle;\n  body: b2Body;\n  \n  constructor(props: PulsePlayerProps){\n    super();\n    this.scene = props.scene;\n    this.colliderHandle = this.createCollider(props);\n  }\n\n  createCollider(props: PulsePlayerProps){\n    const rigidBodyDesc = RigidBodyDesc.dynamic();\n    const rigidBody = this.scene.world.createRigidBody(rigidBodyDesc);\n\n    // Create a cuboid collider attached to the dynamic rigidBody.\n    const colliderDesc = ColliderDesc.ball(props.r).setTranslation(props.x + props.r, props.y + props.r);\n    const returnCollider = this.scene.world.createCollider(colliderDesc, rigidBody.handle).handle;\n    \n    return returnCollider;\n  }\n\n  // No tick\n\n  handleMovement(xAxisInput: number, yAxisInput: number){\n    const ACCELERATION_CONSTANT_X = 3;\n    const ACCELERATION_CONSTANT_Y = 3;\n\n    const collider = this.scene.world.getCollider(this.colliderHandle)\n    const rigidBody = this.scene.world.getRigidBody(collider.parent())\n    const velocity = rigidBody.linvel()\n\n    let xInputForce = xAxisInput * ACCELERATION_CONSTANT_X;\n    let yInputForce = yAxisInput * ACCELERATION_CONSTANT_Y;\n\n    // top speed & quick turnaround\n    // Makes force which tends velocity toward orignal input force AT SOME RATE. Is instant? Or does it take a few frames to turn around?\n    // I call this strategy \"VELOCITY CANCELLING\": input/target velocity minus current velocity.\n    xInputForce -= velocity.x\n    yInputForce -= velocity.y\n\n        // Don't know how to scalar multiply yet\n    const impulseX = rigidBody.mass() * xInputForce; //disregard time factor. < ??what does this mean?\n    const impulseY = rigidBody.mass() * yInputForce;\n    const impulse = { x: impulseX, y: impulseY };\n    \n    rigidBody.applyImpulse(impulse, true)\n\n    // // Example of slow turning I think?\n    // //case MS_LEFT:  desiredVel = b2Max( vel.x - 0.1f, -5.0f ); break;\n    // //case MS_STOP:  desiredVel = 0; break;\n    // //case MS_RIGHT: desiredVel = b2Min( vel.x + 0.1f,  5.0f ); break;\n  }\n\n  pulse(){\n    const pulseRadiusBez = new Bezier(0,0, 0,0, 0,0, 0,0);\n  }\n\n  render(canvas: HTMLCanvasElement){\n    const c = canvas.getContext('2d');\n    c.fillStyle = 'rgb(126, 226, 151)';\n\n    const collider = this.scene.world.getCollider(this.colliderHandle)\n    const { x: xPosition, y: yPosition} = collider.translation(); \n    const radius = collider.radius()\n\n    c.beginPath();\n    c.arc(xPosition, yPosition, radius, 0, Math.PI * 2, true); // Outer circle\n    c.fill();\n  }\n}\n","import { LogService } from \"@/Game/LogService/LogService\";\nimport { b2Body, b2BodyDef, b2BodyType, b2FixtureDef, b2PolygonShape, b2Vec2, b2World } from \"@/lib/Box2D/Box2D\";\nimport { Collider, ColliderDesc, ColliderHandle } from \"@dimforge/rapier2d\";\nimport { Scene } from \"../../Scene/Scene\";\nimport GameObject, { BodyUserData, GameObjectProps } from \"../GameObject\";\n\nexport interface WallProps extends GameObjectProps {\n  w: number;\n  h: number;\n  rotation?: number;\n}\n\n// At this moment this component is translating from corner origins to center origin for rapier\n// still unsure what rapier is using so i;ll just try this out \nexport default class Wall extends GameObject { // extend something general?\n  scene: Scene;\n  colliderHandle: ColliderHandle;\n  body: b2Body;\n  \n  constructor(props: WallProps) {\n    super();\n    this.scene = props.scene;\n    this.colliderHandle = this.createCollider(props);\n  }\n\n  createCollider(props: WallProps){\n    const groundColliderDesc = ColliderDesc.cuboid(props.w / 2, props.h / 2)\n      .setTranslation(props.x + (props.w / 2), props.y + (props.h / 2))\n      .setRotation((props.rotation ?? 0)*Math.PI/180)\n    const returnColliderHandle = this.scene.world.createCollider(groundColliderDesc).handle;\n    return returnColliderHandle;\n  }\n\n  // No tick\n\n  render(canvas: HTMLCanvasElement){\n    const c = canvas.getContext('2d');\n    c.fillStyle = 'rgb(209, 225, 235)';\n\n    console.log(this.colliderHandle)\n    const collider = this.scene.world.getCollider(this.colliderHandle)\n    const { x: halfX, y: halfY } = collider.halfExtents()\n    const { x: xPosition, y: yPosition} = collider.translation();\n    const rotation = collider.rotation()\n\n    console.log(`colliderHandle: ${collider.handle}, halfX: ${halfX}, halfY: ${halfY}, xPosition: ${xPosition}, yPosition: ${yPosition}`)\n\n    c.rect( xPosition - halfX, yPosition - halfY, halfX*2, halfY*2);\n    c.fill();\n  }\n}\n","import { GamepadInputResult, KeyboardMouseInputResult } from \"../model/InputResult\";\n\nexport const gamepadNoInputResult: GamepadInputResult = {\n  button1: false,\n  button2: false,\n  button3: false,\n  button4: false,\n\n  leftStickXAxis: 0,\n  leftStickYAxis: 0,\n  rightStickXAxis: 0,\n  rightStickYAxis: 0,\n\n  leftTriggerAxis: 0,\n  rightTriggerAxis: 0,\n}\n\nexport const keyboardMouseNoInputResult: KeyboardMouseInputResult = {\n  button1: false,\n  button2: false,\n  button3: false,\n  button4: false,\n  \n  buttonUp: false,\n  buttonRight: false,\n  buttonDown: false,\n  buttonLeft: false,\n}\n","import { InputConfig } from './model/InputConfig';\nimport { GamepadInputResult, KeyboardMouseInputResult } from './model/InputResult';\nimport { gamepadNoInputResult, keyboardMouseNoInputResult } from './contants/noInputResult';\nimport { MyInput } from '../GameService/netplayjs/MyInput';\n\n// Applies config to raw input data to produce gameplay-usable inputs.\n// TODO maybe? use this at the netplay-js layer (instead of Player layer) so simpler input is serialized\n\nexport class InputServiceImplementation {\n  constructor() {\n    0;\n  }\n\n  getGamepadInput(input: MyInput, gamepadIndex: number, config: InputConfig): GamepadInputResult {\n    const gamepad: Gamepad = input.gamepads[gamepadIndex];\n    if (!gamepad) return gamepadNoInputResult;\n\n    const mapping = config.gamepadInputMapping;\n    \n    const leftStickMagnitude = Math.sqrt(Math.pow(Math.abs(gamepad.axes[mapping.leftStickXAxisIndex]), 2) + Math.pow(Math.abs(gamepad.axes[mapping.leftStickYAxisIndex]), 2));\n    const rightStickMagnitude = Math.sqrt(Math.pow(Math.abs(gamepad.axes[mapping.rightStickXAxisIndex]), 2) + Math.pow(Math.abs(gamepad.axes[mapping.rightStickYAxisIndex]), 2));\n\n    const isLeftStickDeadzoned = leftStickMagnitude < config.leftStickDeadzone;\n    const isRightStickDeadzoned = rightStickMagnitude < config.rightStickDeadzone;\n\n    const detectedInput: GamepadInputResult = {\n      button1: gamepad.buttons[mapping.button1Index].pressed,\n      button2: gamepad.buttons[mapping.button2Index].pressed,\n      button3: gamepad.buttons[mapping.button3Index].pressed,\n      button4: gamepad.buttons[mapping.button4Index].pressed,\n    \n      leftStickXAxis: isLeftStickDeadzoned ? 0 : gamepad.axes[mapping.leftStickXAxisIndex],\n      leftStickYAxis: isLeftStickDeadzoned ? 0 : -gamepad.axes[mapping.leftStickYAxisIndex],\n      rightStickXAxis: isRightStickDeadzoned ? 0 : gamepad.axes[mapping.rightStickXAxisIndex],\n      rightStickYAxis: isRightStickDeadzoned ? 0 : -gamepad.axes[mapping.rightStickYAxisIndex],\n    \n      // Support button style trigger?\n      leftTriggerAxis: gamepad.axes[mapping.leftTriggerAxisIndex],\n      rightTriggerAxis: gamepad.axes[mapping.rightTriggerAxisIndex],\n    }\n    return detectedInput;\n  }\n\n  getKeyboardMouseInput(input: MyInput, config: InputConfig): KeyboardMouseInputResult {\n    const mapping = config.keyboardMouseInputMapping;\n\n    const detectedInput: KeyboardMouseInputResult = {\n      button1: !!input.pressed[mapping.button1Key],\n      button2: !!input.pressed[mapping.button2Key],\n      button3: !!input.pressed[mapping.button3Key],\n      button4: !!input.pressed[mapping.button4Key],\n    \n      buttonUp: !!input.pressed[mapping.buttonUpKey],\n      buttonRight: !!input.pressed[mapping.buttonRightKey],\n      buttonDown: !!input.pressed[mapping.buttonDownKey],\n      buttonLeft: !!input.pressed[mapping.buttonLeftKey]\n    }\n\n    return detectedInput\n  }\n}\n\nexport const InputService = new InputServiceImplementation();\n","import { defaultInputConfig } from \"@/Game/InputService/contants/InputConfigDefaults\";\nimport { InputService } from \"@/Game/InputService/InputService\";\nimport { InputConfig } from \"@/Game/InputService/model/InputConfig\";\nimport { GamepadInputResult, KeyboardMouseInputResult } from \"@/Game/InputService/model/InputResult\";\nimport { VueService } from \"@/Game/VueService/VueService\";\nimport { NetplayPlayer } from \"@/lib/netplayjs\";\nimport { MyInput } from \"../netplayjs/MyInput\";\nimport { Scene } from \"../Scene/Scene\";\n\nexport interface PlayerProps {\n  playerIndex: number;\n  netplayPlayerIndex: number;\n  gamepadIndex: number;\n  inputConfig?: InputConfig;\n}\n\n// A Player is everything that needs to be stored/done per-player.\nexport abstract class Player {\n  playerIndex: number; // in-game player e.g. \"Player 1\"\n  netplayPlayerIndex: number; // client index\n  gamepadIndex?: number; // index in the browser's 'GamePad' interface\n  inputConfig?: InputConfig;\n  resourceMeter: number;\n  \n  // 101 for rounding issues. I want fractional costs like 1/3 which is 33.33\n  // So we'll use 101 and round down for displaying.\n  // This is a character-wide rule for now.\n  RESOURCE_METER_MAXIMUM = 101;\n  RESOURCE_METER_BEGIN = 50;\n  \n\n  constructor(props: PlayerProps){\n    this.playerIndex = props.playerIndex;\n    this.netplayPlayerIndex = props.netplayPlayerIndex;\n    this.gamepadIndex = props.gamepadIndex;\n    this.inputConfig = props.inputConfig;\n    this.resourceMeter = this.RESOURCE_METER_BEGIN;\n  }\n\n  abstract createObjects(scene: Scene, x: number, y: number);\n  // Detect input, do stuff\n  abstract tick(input: MyInput);\n\n  getInput(input: MyInput): GamepadInputResult | KeyboardMouseInputResult{\n    if (this.gamepadIndex === -1) {\n      return InputService.getKeyboardMouseInput(input, this.inputConfig ?? defaultInputConfig)\n    } \n    return InputService.getGamepadInput(input, this.gamepadIndex, this.inputConfig ?? defaultInputConfig); \n  }\n\n  setResourceMeter(value: number){\n    const newValue = Math.min(value, this.RESOURCE_METER_MAXIMUM);\n    this.resourceMeter = newValue;\n    VueService.setPlayerResourceMeter(this.playerIndex, newValue); // the frontend service plants its dirty fingers everywhere\n  }\n}\n","import { GamepadInputResult, isGamePadInputResult, KeyboardMouseInputResult } from \"@/Game/InputService/model/InputResult\";\nimport PulsePlayerObject from \"../../GameObject/GameObjectFactory/PulsePlayerObject\";\nimport { MyInput } from \"../../netplayjs/MyInput\";\nimport { Scene } from \"../../Scene/Scene\";\nimport { Player, PlayerProps } from \"../Player\";\n\nexport interface PulsePlayerProps extends PlayerProps {\n  // DENSITY: number;\n  // FRICTION: number;\n  // RESTITUTION: number;\n  RADIUS: number;\n}\n\nexport class PulsePlayer extends Player {\n  // DENSITY: number;\n  // FRICTION: number;\n  // RESTITUTION: number;\n  RADIUS: number;\n\n  pulseObject: PulsePlayerObject | undefined;\n\n  constructor(props: PulsePlayerProps){\n    super({\n      playerIndex: props.playerIndex,\n      netplayPlayerIndex: props.netplayPlayerIndex,\n      gamepadIndex: props.gamepadIndex\n    });\n    // this.DENSITY = props.DENSITY;\n    // this.FRICTION = props.FRICTION;\n    // this.RESTITUTION = props.RESTITUTION;\n    this.RADIUS = props.RADIUS;\n\n    this.pulseObject = undefined;\n  }\n\n  // Puts new player Game Objects (usually a single object) into the given Scene world.\n  createObjects(scene: Scene, x: number, y: number){\n    this.pulseObject = new PulsePlayerObject({\n      scene: scene,\n      x: x,\n      y: y,\n      r: this.RADIUS,\n      // density: this.DENSITY,\n      // friction: this.FRICTION,\n      // restitution: this.RESTITUTION\n    });\n    scene.addGameObject(this.pulseObject);\n  }\n\n  // Detect input, do stuff\n  tick(input: MyInput){\n    this.handleMovement(this.getInput(input));\n  }\n\n  handleMovement(input: GamepadInputResult | KeyboardMouseInputResult){\n    let xAxisInput = 0\n    let yAxisInput = 0\n\n    if (isGamePadInputResult(input)) {\n      xAxisInput = input.leftStickXAxis;\n      yAxisInput = input.leftStickYAxis;\n    }\n    else {\n      console.log(input.buttonUp)\n      if (input.buttonLeft) xAxisInput -= 1\n      if (input.buttonRight) xAxisInput += 1\n      if (input.buttonUp) yAxisInput += 1\n      if (input.buttonDown) yAxisInput -= 1\n    }\n    \n    this.pulseObject.handleMovement(xAxisInput, yAxisInput);\n  }\n}\n","import GameObject from \"../GameObject/GameObject\";\nimport { World } from '@dimforge/rapier2d'\n\nexport interface SceneProps {\n  world: World;\n  unitWidth: number;\n  unitHeight: number;\n  gameObjects: GameObject[];\n}\n\nexport class Scene {\n  world: World;\n  unitWidth: number;\n  unitHeight: number;\n  gameObjects: GameObject[];\n\n  constructor(props: SceneProps){\n    this.world = props.world;\n    this.unitWidth = props.unitWidth;\n    this.unitHeight = props.unitHeight;\n    this.gameObjects = props.gameObjects;\n\n    this.setup();\n  }\n\n  setup() {\n    //nothin yet\n  }\n\n  render(canvas: HTMLCanvasElement) {\n    // Set rendering size to actual pixel size (to render at the best possible resolution)\n    const canvasElementWidth = canvas.getBoundingClientRect().width\n    const canvasElementHeight = canvas.getBoundingClientRect().height\n    canvas.width = canvasElementWidth;\n    canvas.height = canvasElementHeight;\n\n    // flip canvas y-axis: to make box2d & canvas coordinate systems match y-direction (bottom-up)\n    canvas.getContext('2d').transform(1, 0, 0, -1, 0, canvas.height)\n\n    // Scale so that we can use our own units when drawing with coordinates\n    const xScaling = canvas.width / this.unitWidth;\n    const yScaling = canvas.height / this.unitHeight;\n    const squareScaling = Math.min(xScaling, yScaling);\n    canvas.getContext('2d').scale(squareScaling, squareScaling);\n\n    this.renderBackground(canvas)\n    this.renderGameObjects(canvas)\n  }\n\n  addGameObject(newObject: GameObject){\n    this.gameObjects.push(newObject);\n  }\n  \n  private renderGameObjects(canvas: HTMLCanvasElement) {\n    console.log(this.gameObjects)\n    this.gameObjects.forEach(gameObject => {      \n      gameObject.render(canvas)\n    })\n  }\n\n  private renderBackground(canvas: HTMLCanvasElement) {\n    const c = canvas.getContext('2d');\n    c.fillStyle = 'rgb(42, 43, 49)';\n    c.fillRect(0, 0, canvas.width, canvas.height);\n  }\n}\n","import { LogService } from \"@/Game/LogService/LogService\";\nimport { b2Vec2, b2World } from \"@/lib/Box2D/Box2D\";\nimport { World } from \"@dimforge/rapier2d\";\nimport Ball from \"../../GameObject/GameObjectFactory/Ball\";\nimport Wall from \"../../GameObject/GameObjectFactory/Wall\";\nimport { Player } from \"../../Player/Player\";\nimport { Scene } from \"../Scene\";\n\nconst SCENE_WIDTH = 16;\nconst SCENE_HEIGHT = 9;\n\nconst UI_HEIGHT = 1; // UI section on top 1/9th of game screen\nconst NON_UI_HEIGHT = SCENE_HEIGHT - UI_HEIGHT;\n\nconst ARENA_WIDTH = 15;\nconst ARENA_HEIGHT = 7.8;\n\nconst ARENA_HORIZONTAL_PADDING = (SCENE_WIDTH - ARENA_WIDTH) / 2;\nconst ARENA_VERTICAL_PADDING = (NON_UI_HEIGHT - ARENA_HEIGHT) / 2;\n\nconst WALL_THICKNESS = 0.1;\n\nexport interface Scene1Props {\n  players: Player[];\n}\n\n\nexport function createScene1(props: Scene1Props): Scene {\n  const gravity = { x: 0.0, y: 0.0 };\n  const world = new World(gravity)\n  \n  const returnScene: Scene = new Scene({\n    world: world,\n    unitWidth: SCENE_WIDTH,\n    unitHeight: SCENE_HEIGHT,\n    gameObjects: []\n  });\n\n  const player1: Player | undefined = props.players[0];\n  if (player1){\n    player1.createObjects(returnScene, 4, 4);\n  }\n  const player2: Player | undefined = props.players[1];\n  if (player2){\n    player2.createObjects(returnScene, 8, 4);\n  }\n  console.log(player2)\n\n  returnScene.addGameObject(new Ball({\n    scene: returnScene,\n    x: 8,\n    y: 7,\n    r: 0.50\n  }));\n\n  // Top Wall\n  returnScene.addGameObject(new Wall({\n    scene: returnScene,\n    x: ARENA_HORIZONTAL_PADDING,\n    y: ARENA_VERTICAL_PADDING + ARENA_HEIGHT,\n    w: ARENA_WIDTH,\n    h: WALL_THICKNESS,\n  }));\n\n  // Right Wall\n  returnScene.addGameObject(new Wall({\n    scene: returnScene,\n    x: ARENA_HORIZONTAL_PADDING + ARENA_WIDTH,\n    y: ARENA_VERTICAL_PADDING,\n    w: WALL_THICKNESS,\n    h: ARENA_HEIGHT,\n  }));\n\n  // Bottom Wall\n  returnScene.addGameObject(new Wall({\n    scene: returnScene,\n    x: ARENA_HORIZONTAL_PADDING,\n    y: ARENA_VERTICAL_PADDING,\n    w: ARENA_WIDTH,\n    h: WALL_THICKNESS,\n  }));\n\n  // Left Wall\n  returnScene.addGameObject(new Wall({\n    scene: returnScene,\n    x: ARENA_HORIZONTAL_PADDING,\n    y: ARENA_VERTICAL_PADDING,\n    w: WALL_THICKNESS,\n    h: ARENA_HEIGHT,\n  }));\n\n  return returnScene;\n}\n","import { VueService, VueServicePlayer } from '@/Game/VueService/VueService';\nimport { NetplayPlayer, DefaultInput, Game, JSONValue } from '@/lib/netplayjs'\nimport { Player } from '../Player/Player';\nimport { Scene } from '../Scene/Scene';\nimport { createScene1 } from '../Scene/SceneFactory/Scene1';\nimport { MyInput } from './MyInput';\nimport { MyRollbackWrapper } from './myRollbackWrapper';\nimport { World } from '@dimforge/rapier2d';\nimport { PulsePlayer } from '../Player/PlayerTypes/PulsePlayer';\nimport { defaultInputConfig } from '@/Game/InputService/contants/InputConfigDefaults';\n\nexport class MyGame extends Game {\n  static timestep = 1000 / 60;\n\n  // These are needed in the Game class but I want to override the behaviour that uses it.\n  // The canvas should be 100% and 100%, not px width/height\n  static canvasSize = { width: -1, height: -1 };\n\n  players = [\n    new PulsePlayer({\n      playerIndex: 0,\n      netplayPlayerIndex: 0, // host\n      gamepadIndex: -1, // -1 is Keyboard/Mouse\n\n      RADIUS: 0.240,\n      // DENSITY: 0.5,\n      // FRICTION: 0.5,\n      // RESTITUTION: 0.0\n    }),\n    new PulsePlayer({\n      playerIndex: 1,\n      netplayPlayerIndex: 1, // client\n      gamepadIndex: -1, // -1 is Keyboard/Mouse\n      inputConfig: {\n        keyboardMouseInputMapping: {\n          buttonUpKey: \"W\",\n          buttonRightKey: \"D\",\n          buttonDownKey: \"S\",\n          buttonLeftKey: \"A\",\n          ...defaultInputConfig.keyboardMouseInputMapping\n        },\n        ...defaultInputConfig\n      },\n\n      RADIUS: 0.240,\n      // DENSITY: 0.5,\n      // FRICTION: 0.5,\n      // RESTITUTION: 0.0\n    }),\n  ]\n\n  scene: Scene = createScene1({ players: this.players });\n  previousTimestamp = 0\n\n  someTestCopyOfThis = null\n\n  serialize(): JSONValue {\n    return {\n      snapshot: this.scene.world.takeSnapshot().toString()\n    } as JSONValue;\n  }\n\n  deserialize(value: JSONValue): void {\n    const snapshot = value['snapshot']\n    const splitSnapshot = snapshot.split(',')\n    const array = new Uint8Array(splitSnapshot)\n    this.scene.world = World.restoreSnapshot(array);\n  }\n\n  tick(playerInputs: Map<NetplayPlayer, MyInput>) {\n    this.tickWorld();\n    this.tickPlayers(playerInputs)\n\n    this.scene.world.colliders.forEachCollider((collider) => {\n      console.log(`x: ${collider.translation().x}, y: ${collider.translation().y}, hw: ${collider.halfExtents().x}, hh: ${collider.halfExtents().y}`)\n    })\n  }\n\n  draw(canvas: HTMLCanvasElement) {\n    this.scene.render(canvas)\n  }\n\n  // Tick Players: Input handling, mostly\n  tickPlayers(playerInputs: Map<NetplayPlayer, MyInput>){\n    this.players.forEach(player => {\n      for (const [netplayPlayer, input] of playerInputs.entries()) {\n        if (netplayPlayer.getID() === player.netplayPlayerIndex) {\n          player.tick(input); // passes the inputs for a single CLIENT (multiple gamepads still possible) \n        }\n      }\n    })\n  }\n\n  // Physics tick\n  tickWorld() {\n    this.scene.world.step();\n  }\n}\n\nnew MyRollbackWrapper(MyGame).start();\n","/**\n * Expontentially weighted moving average and standard deviation.\n * Can be used for measuring values like ping.\n */\nexport default class EWMASD {\n  discount: number;\n\n  est_average: number;\n  est_variance: number;\n\n  initialized: boolean;\n\n  constructor(discount: number) {\n    this.discount = discount;\n\n    this.est_average = 0;\n    this.est_variance = 0;\n\n    this.initialized = false;\n  }\n\n  update(measurement: number) {\n    if (!this.initialized) {\n      this.est_average = measurement;\n      this.initialized = true;\n    } else {\n      const delta = measurement - this.est_average;\n      this.est_variance =\n        (1 - this.discount) *\n        (this.est_variance + this.discount * delta * delta);\n      this.est_average =\n        this.discount * measurement + (1 - this.discount) * this.est_average;\n    }\n  }\n\n  average() {\n    return this.est_average;\n  }\n  variance() {\n    return this.est_variance;\n  }\n  stddev() {\n    return Math.sqrt(this.est_variance);\n  }\n}\n","import { DefaultInput, DefaultInputReader } from '@/lib/netplayjs'\nimport * as utils from '@/lib/netplayjs/utils'\n\nexport class MyInput extends DefaultInput {\n  gamepads: Gamepad[] = []\n}\n\nexport class MyInputReader extends DefaultInputReader {\n\n  getInput(): MyInput {\n    const input = new MyInput();\n\n    // Stolen from super\n    for (const key in this.PRESSED_KEYS) {\n      if (this.PRESSED_KEYS[key]) input.pressed[key] = true;\n    }\n    // if (this.mousePosition)\n    //   input.mousePosition = utils.clone(this.mousePosition);\n    // input.touches = utils.clone(this.touches);\n    // for (const [name, control] of Object.entries(this.touchControls)) {\n    //   input.touchControls = input.touchControls || {};\n    //   input.touchControls[name] = utils.clone(control.getValue());\n    // }\n\n    // New Stuff\n    // Theory: are the gamepad inputs being serialized as part of the gamestate?\n    // ^ would their serialization cause any problems?\n    input.gamepads = navigator.getGamepads()\n    console.log(input.pressed)\n    return input;\n  }\n}\n","import Peer from 'peerjs'\nimport { DefaultInput } from '@/lib/netplayjs/defaultinput'\nimport EWMASD from '@/lib/netplayjs/ewmasd'\nimport { NetplayPlayer } from '@/lib/netplayjs/types'\n\nimport { Game, GameClass } from '@/lib/netplayjs/game'\nimport { RollbackNetcode } from '@/lib/netplayjs/netcode/rollback'\nimport { MyInputReader } from './MyInput'\n\nimport * as query from \"query-string\";\nimport { assert } from \"chai\";\nimport { VueService } from '@/Game/VueService/VueService'\n\nconst PING_INTERVAL = 100;\n\nexport class MyRollbackWrapper {\n\n  // The class (not the instance) of the input serializable game (myGame)\n  gameClass: GameClass;\n\n  /** The canvas that the game will be rendered onto. */\n  canvas: HTMLCanvasElement;\n\n  vueService: typeof VueService = VueService;\n\n  inputReader: MyInputReader;\n\n  stateSyncPeriod: number;\n\n  pingMeasure: EWMASD = new EWMASD(0.2); // Ryan: I don't know what this 0.2 does\n\n  // The actual instance of the input serializable game class \n  game?: Game;\n\n  rollbackNetcode?: RollbackNetcode<Game, DefaultInput>;\n\n  isChannelOrdered(channel: RTCDataChannel) {\n    return channel.ordered;\n  }\n\n  isChannelReliable(channel: RTCDataChannel) {\n    return (\n      channel.maxPacketLifeTime === null && channel.maxRetransmits === null\n    );\n  }\n\n  checkChannel(channel: RTCDataChannel) {\n    assert.isTrue(\n      this.isChannelOrdered(channel),\n      \"Data Channel must be ordered.\"\n    );\n    assert.isTrue(this.isChannelReliable(channel), \"Channel must be reliable.\");\n  }\n\n  constructor(gameClass: GameClass) {\n    this.gameClass = gameClass;\n\n    this.stateSyncPeriod = this.gameClass.stateSyncPeriod || 1;\n\n    // Find canvas for game.\n    this.canvas = document.getElementById('game-canvas') as HTMLCanvasElement\n\n    if (\n      this.gameClass.touchControls &&\n      window.navigator.userAgent.toLowerCase().includes(\"mobile\")\n    ) {\n      for (const [name, control] of Object.entries(\n        this.gameClass.touchControls\n      )) {\n        control.show();\n      }\n    }\n\n    this.inputReader = new MyInputReader(\n      this.canvas,\n      this.gameClass.pointerLock || false,\n      this.gameClass.touchControls || {}\n    );\n  }\n\n  peer?: Peer;\n\n  start() {\n    console.info(\"Creating a PeerJS instance.\");\n    this.vueService.setNetplayConnectingToServer(true)\n\n    this.peer = new Peer();\n    this.peer.on(\"error\", (err) => {\n      this.vueService.setNetplayErrorMessage(JSON.stringify(err))\n      console.error(err);\n    });\n\n    this.peer!.on(\"open\", (id) => {\n      this.vueService.setNetplayConnectingToServer(false)\n\n      // Try to parse the room from the hash. If we find one,\n      // we are a client.\n      const parsedHash = query.parse(window.location.hash);\n      const isClient = !!parsedHash.room;\n\n      if (isClient) {\n        // We are a client, so connect to the room from the hash.\n        this.vueService.setNetplayConnectedToPeer(true)\n\n        console.info(`Connecting to room ${parsedHash.room}.`);\n\n        const conn = this.peer!.connect(parsedHash.room as string, {\n          serialization: \"json\",\n          reliable: true,\n          // @ts-ignore: This is a hack written by netplayjs to get around a bug in PeerJS\n          _payload: {\n            originator: true,\n            reliable: true,\n          },\n        });\n\n        conn.on(\"error\", (err) => {\n          this.vueService.setNetplayErrorMessage(JSON.stringify(err))\n          console.error(err)\n        });\n\n        // Construct the players array.\n        const players = [\n          new NetplayPlayer(0, false, true), // Player 0 is our peer, the host.\n          new NetplayPlayer(1, true, false), // Player 1 is us, a client\n        ];\n\n        this.startClient(players, conn);\n      } else {\n        // HOST\n        // We are host, so we need to show a join link.\n        console.info(\"Showing join link.\");\n\n        // Show the join link.\n        const joinURL = `${window.location.href}#room=${id}`;\n        this.vueService.setNetplayJoinUrl(joinURL)\n\n        // Construct the players array.\n        const players = [\n          new NetplayPlayer(0, true, true), // Player 0 is us, acting as a host.\n          new NetplayPlayer(1, false, false), // Player 1 is our peer, acting as a client.\n        ];\n\n        // Wait for a connection from a client.\n        this.peer!.on(\"connection\", (conn) => {\n          // Make the menu disappear.\n          this.vueService.setNetplayConnectedToPeer(true)\n          \n          conn.on(\"error\", (err) => {\n            this.vueService.setNetplayErrorMessage(JSON.stringify(err))\n            console.error(err)\n          });\n\n          this.startHost(players, conn);\n        });\n      }\n    });\n  }\n\n  getInitialInputs(\n    players: Array<NetplayPlayer>\n  ): Map<NetplayPlayer, DefaultInput> {\n    const initialInputs: Map<NetplayPlayer, DefaultInput> = new Map();\n    for (const player of players) {\n      initialInputs.set(player, new DefaultInput());\n    }\n    return initialInputs;\n  }\n\n  startHost(players: Array<NetplayPlayer>, conn: Peer.DataConnection) {\n    console.info(\"Starting a rollback host.\");\n\n    this.game = new this.gameClass(this.canvas, players);\n\n    this.rollbackNetcode = new RollbackNetcode(\n      true,\n      this.game!,\n      players,\n      this.getInitialInputs(players),\n      10,\n      this.pingMeasure,\n      this.gameClass.timestep,\n      () => this.inputReader.getInput(),\n      (frame, input) => {\n        conn.send({ type: \"input\", frame: frame, input: input.serialize() });\n      },\n      (frame, state) => {\n        conn.send({ type: \"state\", frame: frame, state: state });\n      }\n    );\n\n    conn.on(\"data\", (data) => {\n      if (data.type === \"input\") {\n        const input = new DefaultInput();\n        input.deserialize(data.input);\n        this.rollbackNetcode!.onRemoteInput(data.frame, players![1], input);\n      } else if (data.type == \"ping-req\") {\n        conn.send({ type: \"ping-resp\", sent_time: data.sent_time });\n      } else if (data.type == \"ping-resp\") {\n        this.pingMeasure.update(Date.now() - data.sent_time);\n      }\n    });\n\n    conn.on(\"open\", () => {\n      console.log(\"Client has connected... Starting game...\");\n      this.checkChannel(conn.dataChannel);\n\n      setInterval(() => {\n        conn.send({ type: \"ping-req\", sent_time: Date.now() });\n      }, PING_INTERVAL);\n\n      this.startGameLoop();\n    });\n  }\n\n  startClient(players: Array<NetplayPlayer>, conn: Peer.DataConnection) {\n    console.info(\"Starting a lockstep client.\");\n\n    this.game = new this.gameClass(this.canvas, players);\n    this.rollbackNetcode = new RollbackNetcode(\n      false,\n      this.game!,\n      players,\n      this.getInitialInputs(players),\n      10,\n      this.pingMeasure,\n      this.gameClass.timestep,\n      () => this.inputReader.getInput(),\n      (frame, input) => {\n        conn.send({ type: \"input\", frame: frame, input: input.serialize() });\n      }\n    );\n\n    conn.on(\"data\", (data) => {\n      if (data.type === \"input\") {\n        const input = new DefaultInput();\n        input.deserialize(data.input);\n        this.rollbackNetcode!.onRemoteInput(data.frame, players![0], input);\n      } else if (data.type === \"state\") {\n        //console.log(data.state)\n        this.rollbackNetcode!.onStateSync(data.frame, data.state);\n      } else if (data.type == \"ping-req\") {\n        conn.send({ type: \"ping-resp\", sent_time: data.sent_time });\n      } else if (data.type == \"ping-resp\") {\n        this.pingMeasure.update(Date.now() - data.sent_time);\n      }\n    });\n    conn.on(\"open\", () => {\n      console.log(\"Successfully connected to server... Starting game...\");\n      this.checkChannel(conn.dataChannel);\n\n      setInterval(() => {\n        conn.send({ type: \"ping-req\", sent_time: Date.now() });\n      }, PING_INTERVAL);\n\n      this.startGameLoop();\n    });\n  }\n\n  startGameLoop() {\n    // Start the netcode game loop.\n    this.rollbackNetcode!.start();\n\n    const animate = (timestamp) => {\n      // Draw state to canvas.\n      this.game!.draw(this.canvas);\n\n      // Update stats\n      this.vueService.setNetplayPing(this.pingMeasure.average().toFixed(2))\n      this.vueService.setNetplayPingStdDev(this.pingMeasure.stddev().toFixed(2))\n      this.vueService.setNetplayHistoryLength(this.rollbackNetcode!.history.length)\n      this.vueService.setNetplayFrame(this.rollbackNetcode!.currentFrame())\n      this.vueService.setNetplayLargestFutureSize(this.rollbackNetcode!.largestFutureSize())\n      this.vueService.setNetplayPredictedFrames(this.rollbackNetcode!.predictedFrames())\n      this.vueService.setNetplayStalling(this.rollbackNetcode!.shouldStall())\n\n      // Request another frame.\n      requestAnimationFrame(animate);\n    };\n    requestAnimationFrame(animate);\n  }\n}\n","import { GamepadInputMapping, InputConfig, KeyboardMouseInputMapping } from \"../model/InputConfig\"\n\nconst defaultXboxOneInputMapping: GamepadInputMapping = {\n  button1Index: 0,\n  button2Index: 1,\n  button3Index: 2,\n  button4Index: 3,\n\n  leftStickXAxisIndex: 0,\n  leftStickYAxisIndex: 1,\n  rightStickXAxisIndex: 2,\n  rightStickYAxisIndex: 3,\n\n  // Support button style trigger?\n  leftTriggerAxisIndex: 4,\n  rightTriggerAxisIndex: 5,\n}\n\nconst defaultKeyboardMouseInputMapping: KeyboardMouseInputMapping = {\n  button1Key: \"Z\",\n  button2Key: \"X\",\n  button3Key: \"C\",\n  button4Key: \"V\",\n  \n  buttonUpKey: \"ArrowUp\",\n  buttonRightKey: \"ArrowRight\",\n  buttonDownKey: \"ArrowDown\",\n  buttonLeftKey: \"ArrowLeft\",\n}\n\nexport const defaultInputConfig: InputConfig = {\n  gamepadInputMapping: defaultXboxOneInputMapping,\n  keyboardMouseInputMapping: defaultKeyboardMouseInputMapping,\n  leftStickDeadzone: 0.15,\n  rightStickDeadzone: 0.15,\n}\n","\nexport const isGamePadInputResult = (input: GamepadInputResult | KeyboardMouseInputResult): input is GamepadInputResult => {\n  return ('leftStickXAxis' in input)\n}\n\nexport interface GamepadInputResult {\n  button1: boolean;\n  button2: boolean;\n  button3: boolean;\n  button4: boolean;\n\n  leftStickXAxis: number; \n  leftStickYAxis: number;\n  rightStickXAxis: number; \n  rightStickYAxis: number;\n\n  // Support button style trigger?\n  leftTriggerAxis: number;\n  rightTriggerAxis: number;\n}\n\nexport interface KeyboardMouseInputResult {\n  button1: boolean;\n  button2: boolean;\n  button3: boolean;\n  button4: boolean;\n  \n  buttonUp: boolean;\n  buttonRight: boolean;\n  buttonDown: boolean;\n  buttonLeft: boolean;\n\n  //mouseXAxis: number;\n  //mouseYAxis: number; \n\n  // TODO mouse clicks? No need yet?\n}\n","import Vue from \"vue\";\n\nexport interface VueServiceConfig {\n  placeholderSetting: string;\n} \n\nexport interface VueServicePlayer {\n  index: number;\n  resourceMeter: number;\n}\n\nexport interface VueServiceState {\n  netplay: {\n    connectingToServer: boolean;\n    connectedToPeer: boolean;\n    joinUrl: string | null;\n    errorMessage: string;\n    ping: string | null;\n    pingStdDev: string | null;\n    historyLength: number | null;\n    frame: number | null;\n    largestFutureSize: number | null;\n    predictedFrames: number | null;\n    stalling: boolean;\n  };\n  playerDict: Record<number, VueServicePlayer>;\n} \n\n// Information interface between the game (TS) and the UI elements (Vue) \nexport class VueServiceImplementation {\n  state: VueServiceState; \n  constructor(config: VueServiceConfig){\n    this.state = {\n      netplay: {\n        connectingToServer: false,\n        connectedToPeer: false,\n        joinUrl: null,\n        errorMessage: null,\n        ping: null,\n        pingStdDev: null,\n        historyLength: null,\n        frame: null,\n        largestFutureSize: null,\n        predictedFrames: null,\n        stalling: false\n      },\n      playerDict: {}\n    };\n  }\n\n  // SET BY GAME\n  ////////////////\n  addPlayer(playerState: VueServicePlayer){\n    Vue.set(this.state.playerDict, playerState.index, playerState);\n  }\n\n  setPlayerResourceMeter(playerIndex: number, value: number){\n    Vue.set(this.state.playerDict[playerIndex], 'resourceMeter', value);\n  }\n\n  setNetplayConnectingToServer(value: boolean){\n    Vue.set(this.state.netplay, 'connectingToServer', value);\n  }\n  setNetplayConnectedToPeer(value: boolean){\n    Vue.set(this.state.netplay, 'connectedToPeer', value);\n  }\n  setNetplayErrorMessage(value: any){\n    Vue.set(this.state.netplay, 'errorMessage', value);\n  }\n  setNetplayJoinUrl(value: any){\n    Vue.set(this.state.netplay, 'joinUrl', value);\n  }\n  setNetplayPing(value: string) {\n    Vue.set(this.state.netplay, 'ping', value);\n  }\n  setNetplayPingStdDev(value: string) {\n    Vue.set(this.state.netplay, 'pingStdDev', value);\n  }\n  setNetplayHistoryLength(value: number) {\n    Vue.set(this.state.netplay, 'historyLength', value);\n  }\n  setNetplayFrame(value: number) {\n    Vue.set(this.state.netplay, 'frame', value);\n  }\n  setNetplayLargestFutureSize(value: number) {\n    Vue.set(this.state.netplay, 'futureSize', value);\n  }\n  setNetplayPredictedFrames(value: number) {\n    Vue.set(this.state.netplay, 'predictedFrames', value);\n  }\n  setNetplayStalling(value: boolean) {\n    Vue.set(this.state.netplay, 'stalling', value);\n  }\n}\n\nexport const VueService = new VueServiceImplementation({placeholderSetting: \"uh ok\"})\n","import { NetplayInput } from \"./types\";\nimport * as utils from \"./utils\";\nimport { TouchControl } from \"./touchcontrols\";\n\nexport class DefaultInput extends NetplayInput<DefaultInput> {\n  pressed: { [key: string]: boolean } = {};\n\n  mousePosition?: { x: number; y: number };\n\n  touches: Array<{ x: number; y: number }> = [];\n\n  touchControls?: { [name: string]: any };\n}\n\nexport class DefaultInputReader {\n  canvas: HTMLCanvasElement;\n\n  PRESSED_KEYS = {};\n\n  mousePosition: { x: number; y: number } | null = null;\n  mouseDelta: { x: number; y: number } | null = null;\n  touches: Array<{ x: number; y: number }> = [];\n\n  touchControls: { [name: string]: TouchControl };\n\n  getCanvasScale(): { x: number; y: number } {\n    const rect = this.canvas.getBoundingClientRect();\n    return {\n      x: this.canvas.width / rect.width,\n      y: this.canvas.height / rect.height,\n    };\n  }\n\n  projectClientPosition(\n    clientX: number,\n    clientY: number\n  ): { x: number; y: number } {\n    const rect = this.canvas.getBoundingClientRect();\n    const scale = this.getCanvasScale();\n\n    return {\n      x: (clientX - rect.left) * scale.x,\n      y: (clientY - rect.top) * scale.y,\n    };\n  }\n\n  constructor(\n    canvas: HTMLCanvasElement,\n    pointerLock: boolean,\n    touchControls: { [name: string]: TouchControl }\n  ) {\n    this.canvas = canvas;\n    this.touchControls = touchControls;\n\n    document.addEventListener(\n      \"keydown\",\n      (event) => {\n        this.PRESSED_KEYS[event.key] = true;\n      },\n      false\n    );\n    document.addEventListener(\n      \"keyup\",\n      (event) => {\n        this.PRESSED_KEYS[event.key] = false;\n      },\n      false\n    );\n\n    canvas.addEventListener(\n      \"mouseenter\",\n      (e) => this.updateMousePosition(e),\n      false\n    );\n\n    canvas.addEventListener(\n      \"mousemove\",\n      (e) => this.updateMousePosition(e),\n      false\n    );\n\n    canvas.addEventListener(\n      \"mouseleave\",\n      (e) => {\n        this.mousePosition = null;\n      },\n      false\n    );\n\n    canvas.addEventListener(\"touchstart\", (e) => this.updateTouches(e), false);\n    canvas.addEventListener(\"touchmove\", (e) => this.updateTouches(e), false);\n    canvas.addEventListener(\"touchend\", (e) => this.updateTouches(e), false);\n\n    canvas.addEventListener(\"mousedown\", () => {\n      if (pointerLock) {\n        canvas.requestPointerLock();\n      }\n    });\n  }\n\n  updateMousePosition(event: MouseEvent) {\n    if (document.pointerLockElement === this.canvas) {\n      if (!this.mousePosition) {\n        // If we are pointer locked, the first position is projected onto the canvas.\n        this.mousePosition = this.projectClientPosition(\n          event.clientX,\n          event.clientY\n        );\n      } else {\n        // Subsequent positions are delta based off of our relative movement.\n        const scale = this.getCanvasScale();\n        this.mousePosition.x += event.movementX * scale.x;\n        this.mousePosition.y += event.movementY * scale.y;\n      }\n    } else {\n      // If we aren't pointer locked, just project the position onto the canvas.\n      this.mousePosition = this.projectClientPosition(\n        event.clientX,\n        event.clientY\n      );\n    }\n  }\n\n  updateTouches(event: TouchEvent) {\n    this.touches.length = event.targetTouches.length;\n    for (let i = 0; i < event.targetTouches.length; ++i) {\n      this.touches[i] = this.projectClientPosition(\n        event.targetTouches[i].clientX,\n        event.targetTouches[i].clientY\n      );\n    }\n  }\n\n  getInput(): DefaultInput {\n    const input = new DefaultInput();\n\n    for (const key in this.PRESSED_KEYS) {\n      if (this.PRESSED_KEYS[key]) input.pressed[key] = true;\n    }\n    if (this.mousePosition)\n      input.mousePosition = utils.clone(this.mousePosition);\n    input.touches = utils.clone(this.touches);\n\n    for (const [name, control] of Object.entries(this.touchControls)) {\n      input.touchControls = input.touchControls || {};\n      input.touchControls[name] = utils.clone(control.getValue());\n    }\n\n    return input;\n  }\n}\n","import { DefaultInput } from \"./defaultinput\";\nimport { NetplayPlayer, NetplayState } from \"./types\";\nimport { TouchControl } from \"./touchcontrols\";\n\nexport type GameClass = {\n  new (canvas: HTMLCanvasElement, players: Array<NetplayPlayer>): Game;\n  timestep: number;\n\n  /**\n   * Canvases need to have a fixed pixel size. This allows us to normalize\n   * mouse position and touches across the network.\n   */\n  canvasSize: { width: number; height: number };\n\n  /**\n   * Whether or not we should lock the pointer when the user clicks on the\n   * canvas. Use this for games like FPSs.\n   */\n  pointerLock?: boolean;\n\n  /**\n   * A list of all the touch controls needed for this game. These will\n   * only be shown on mobile.\n   */\n  touchControls?: { [name: string]: TouchControl };\n\n  /**\n   * How often should the state be synced. By default this happens\n   * every frame. Set to zero to indicate that the state is deterministic\n   * and doesn't need to be synced.\n   */\n  stateSyncPeriod?: number;\n};\n\nexport abstract class Game extends NetplayState<DefaultInput> {\n  abstract draw(canvas: HTMLCanvasElement);\n}\n","export const DEV: boolean = process.env.NODE_ENV === \"development\";\n","import { NetplayInput, NetplayPlayer, NetplayState } from \"../types\";\nimport { get, shift, clone } from \"../utils\";\n\nimport { DEV } from \"../debugging\";\nimport { assert } from \"chai\";\nimport { JSONValue } from \"../json\";\n\nclass RollbackHistory<TInput extends NetplayInput<TInput>> {\n  /**\n   * The frame number that this history entry represents.\n   */\n  frame: number;\n\n  /**\n   * The serialized state of the game at this frame.\n   */\n  state: JSONValue;\n\n  /**\n   * These inputs represent the set of inputs that produced this state\n   * from the previous state.\n   * Eg: history[n].state = history[n - 1].state.tick(history[n].inputs)\n   */\n  inputs: Map<NetplayPlayer, { input: TInput; isPrediction: boolean }>;\n\n  constructor(\n    frame: number,\n    state: JSONValue,\n    inputs: Map<NetplayPlayer, { input: TInput; isPrediction: boolean }>\n  ) {\n    this.frame = frame;\n    this.state = state;\n    this.inputs = inputs;\n  }\n\n  isPlayerInputPredicted(player: NetplayPlayer) {\n    return get(this.inputs, player).isPrediction;\n  }\n\n  anyInputPredicted(): boolean {\n    for (const [player, { isPrediction }] of this.inputs.entries()) {\n      if (isPrediction) return true;\n    }\n    return false;\n  }\n\n  allInputsSynced(): boolean {\n    return !this.anyInputPredicted();\n  }\n}\n\nexport class RollbackNetcode<\n  TState extends NetplayState<TInput>,\n  TInput extends NetplayInput<TInput>\n> {\n  /**\n   * The rollback history buffer.\n   */\n  history: Array<RollbackHistory<TInput>>;\n\n  /**\n   * The max number of frames that we can predict ahead before we have to stall.\n   */\n  maxPredictedFrames: number;\n\n  /**\n   * Inputs from other players that have already arrived, but have not been\n   * applied due to our simulation being behind.\n   */\n  future: Map<NetplayPlayer, Array<{ frame: number; input: TInput }>>;\n\n  highestFrameReceived: Map<NetplayPlayer, number>;\n\n  /**\n   * Whether or not we are the host of this match. The host is responsible for\n   * sending our authoritative state updates.\n   */\n  isHost: boolean;\n\n  onStateSync(frame: number, state: JSONValue) {\n    DEV && assert.isFalse(this.isHost, \"Only clients recieve state syncs.\");\n\n    // Cleanup states that we don't need anymore because we have the definitive\n    // server state. We have to leave at least one state in order to simulate\n    // on the next local tick.\n    let cleanedUpStates = 0;\n    while (this.history.length > 1) {\n      DEV && assert.isTrue(this.history[0].allInputsSynced());\n      if (this.history[0].frame < frame) {\n        shift(this.history);\n        cleanedUpStates++;\n      } else break;\n    }\n    DEV && console.debug(`Cleaned up ${cleanedUpStates} states.`);\n\n    // Update the first state with the definitive server state.\n    DEV && assert.equal(this.history[0].frame, frame);\n    this.history[0].state = state;\n\n    // Rollback to this state.\n    this.state.deserialize(state);\n\n    // Resimulate up to the current point.\n    for (let i = 1; i < this.history.length; ++i) {\n      const currentState = this.history[i];\n\n      this.state.tick(this.getStateInputs(currentState.inputs));\n      currentState.state = clone(this.state.serialize());\n    }\n    DEV &&\n    console.debug(\n        `Resimulated ${this.history.length - 1} states after state sync.`\n      );\n  }\n\n  onRemoteInput(frame: number, player: NetplayPlayer, input: TInput) {\n    DEV &&\n      assert.isTrue(\n        player.isRemotePlayer(),\n        `'player' must be a remote player.`\n      );\n    DEV && assert.isNotEmpty(this.history, `'history' cannot be empty.`);\n\n    const expectedFrame = get(this.highestFrameReceived, player) + 1;\n    DEV && assert.equal(expectedFrame, frame);\n    this.highestFrameReceived.set(player, expectedFrame);\n\n    // If this input is for a frame that we haven't even simulated, we need to\n    // store it in a queue to pull during our next tick.\n    if (frame > this.history[this.history.length - 1].frame) {\n      get(this.future, player).push({ frame: frame, input: input });\n      return; // Skip rest of logic in this function.\n    }\n\n    // If we have already simulated a frame F for which we are currently receiving\n    // an input, it must be the case that frame F is a prediction. This is because,\n    // when we simulated F, we didn't have this input available. Find F.\n    let firstPrediction: number | null = null;\n    for (let i = 0; i < this.history.length; ++i) {\n      if (this.history[i].isPlayerInputPredicted(player)) {\n        firstPrediction = i;\n        break;\n      }\n    }\n    DEV && assert.exists(firstPrediction);\n\n    // Assuming that input messages from a given client are ordered, the\n    // first history with a predicted input for this player is also the\n    // frame for which we just recieved a message.\n    DEV && assert.equal(this.history[firstPrediction!].frame, frame);\n\n    // The state before the first prediction is, by definition,\n    // not a prediction. There must be one such state.\n    const lastActualState = this.history[firstPrediction! - 1];\n\n    // Roll back to that previous state.\n    this.state.deserialize(lastActualState.state);\n\n    // Resimulate forwards with the actual input.\n    for (let i = firstPrediction!; i < this.history.length; ++i) {\n      const currentState = this.history[i];\n      const currentPlayerInput = get(currentState.inputs, player);\n\n      DEV && assert.isTrue(currentPlayerInput.isPrediction);\n\n      if (i === firstPrediction) {\n        DEV && assert.equal(currentState.frame, frame);\n\n        currentPlayerInput.isPrediction = false;\n        currentPlayerInput.input = input;\n      } else {\n        const previousState = this.history[i - 1];\n        const previousPlayerInput = get(previousState.inputs, player);\n\n        currentPlayerInput.input = previousPlayerInput.input.predictNext();\n      }\n\n      this.state.tick(this.getStateInputs(currentState.inputs));\n      currentState.state = clone(this.state.serialize());\n    }\n\n    DEV &&\n    console.debug(\n        `Resimulated ${\n          this.history.length - firstPrediction!\n        } states after rollback.`\n      );\n\n    // If this is the server, then we can cleanup states for which input has been synced.\n    // However, we must maintain the invariant that there is always at least one state\n    // in the history buffer, and that the first entry in the history buffer is a\n    // synced state.\n    if (this.isHost) {\n      let cleanedUpStates = 0;\n      while (this.history.length >= 2) {\n        const firstState = this.history[0];\n        const nextState = this.history[1];\n\n        DEV && assert.isTrue(firstState.allInputsSynced());\n        if (nextState.allInputsSynced()) {\n          const syncedState = shift(this.history);\n          cleanedUpStates++;\n          this.broadcastState!(syncedState.frame, syncedState.state);\n        } else break;\n      }\n      DEV && console.debug(`Cleaned up ${cleanedUpStates} states.`);\n    }\n  }\n\n  broadcastInput: (frame: number, input: TInput) => void;\n  broadcastState?: (frame: number, state: JSONValue) => void;\n\n  pingMeasure: any;\n  timestep: number;\n\n  state: TState;\n  pollInput: () => TInput;\n\n  players: Array<NetplayPlayer>;\n\n  constructor(\n    isHost: boolean,\n    initialState: TState,\n    players: Array<NetplayPlayer>,\n    initialInputs: Map<NetplayPlayer, TInput>,\n    maxPredictedFrames: number,\n    pingMeasure: any,\n    timestep: number,\n    pollInput: () => TInput,\n    broadcastInput: (frame: number, input: TInput) => void,\n    broadcastState?: (frame: number, state: JSONValue) => void\n  ) {\n    this.isHost = isHost;\n    this.state = initialState;\n    this.players = players;\n    this.maxPredictedFrames = maxPredictedFrames;\n    this.broadcastInput = broadcastInput;\n    this.pingMeasure = pingMeasure;\n    this.timestep = timestep;\n    this.pollInput = pollInput;\n\n    if (isHost) {\n      if (broadcastState) {\n        this.broadcastState = broadcastState;\n      } else {\n        throw new Error(\"Expected a broadcast state function.\");\n      }\n    }\n\n    const historyInputs = new Map();\n    for (const [player, input] of initialInputs.entries()) {\n      historyInputs.set(player, { input, isPrediction: false });\n    }\n    this.history = [\n      new RollbackHistory(0, clone(this.state.serialize()), historyInputs),\n    ];\n\n    this.future = new Map();\n    this.highestFrameReceived = new Map();\n    for (const player of this.players) {\n      this.future.set(player, []);\n      this.highestFrameReceived.set(player, 0);\n    }\n  }\n\n  currentFrame(): number {\n    DEV && assert.isNotEmpty(this.history, `'history' cannot be empty.`);\n    return this.history[this.history.length - 1].frame;\n  }\n\n  largestFutureSize(): number {\n    return Math.max(...Array.from(this.future.values()).map((a) => a.length));\n  }\n\n  // Returns the number of frames for which at least one player's input is predicted.\n  predictedFrames(): number {\n    for (let i = 0; i < this.history.length; ++i) {\n      if (!this.history[i].allInputsSynced()) {\n        return this.history.length - i;\n      }\n    }\n    return 0;\n  }\n\n  // Whether or not we should stall.\n  shouldStall(): boolean {\n    // If we are predicting too many frames, then we have to stall.\n    return this.predictedFrames() > this.maxPredictedFrames;\n  }\n\n  tick() {\n    DEV && assert.isNotEmpty(this.history, `'history' cannot be empty.`);\n\n    // If we should stall, then don't peform a tick at all.\n    if (this.shouldStall()) return;\n\n    // Get the most recent state.\n    const lastState = this.history[this.history.length - 1];\n\n    // Construct the new map of inputs for this frame.\n    const newInputs: Map<\n      NetplayPlayer,\n      { input: TInput; isPrediction: boolean }\n    > = new Map();\n    for (const [player, input] of lastState.inputs.entries()) {\n      if (player.isLocalPlayer()) {\n        const localInput = this.pollInput();\n\n        // Local player gets the local input.\n        newInputs.set(player, { input: localInput, isPrediction: false });\n        // Broadcast the input to the other players.\n        this.broadcastInput(lastState.frame + 1, localInput);\n      } else {\n        if (get(this.future, player).length > 0) {\n          // If we have already recieved the player's input (due to our)\n          // simulation being behind, then use that input.\n          const future = shift(get(this.future, player));\n          DEV && assert.equal(lastState.frame + 1, future.frame);\n          newInputs.set(player, {\n            input: future.input,\n            isPrediction: false,\n          });\n        } else {\n          // Otherwise, set the next input based off of the previous input.\n          newInputs.set(player, {\n            input: input.input.predictNext(),\n            isPrediction: true,\n          });\n        }\n      }\n    }\n\n    // Tick our state with the new inputs, which may include predictions.\n    this.state.tick(this.getStateInputs(newInputs));\n\n    // Add a history entry into our rollback buffer.\n    this.history.push(\n      new RollbackHistory(\n        lastState.frame + 1,\n        clone(this.state.serialize()),\n        newInputs\n      )\n    );\n  }\n\n  /**\n   * Internally, we store inputs with a flag indicating whether or not that input is\n   * a prediction. Before sending that to the state, we need to remove the prediction\n   * flags, since the game logic doesn't care.\n   */\n  getStateInputs(\n    inputs: Map<NetplayPlayer, { input: TInput; isPrediction: boolean }>\n  ): Map<NetplayPlayer, TInput> {\n    const stateInputs: Map<NetplayPlayer, TInput> = new Map();\n    for (const [player, { input }] of inputs.entries()) {\n      stateInputs.set(player, input);\n    }\n    return stateInputs;\n  }\n\n  start() {\n    setInterval(() => {\n      // If us and our peer are running at the same simulation clock,\n      // we should expect inputs from our peer to arrive after we have\n      // simulated that state. If inputs from our peer are arriving before\n      // we simulate the state, that means we are running slow, and we\n      // have to tick faster. Otherwise we are needlessly forcing our\n      // peer to predict lots of frames.\n      let numTicks = 1;\n      if (this.largestFutureSize() > 0) {\n        numTicks = 2;\n      }\n\n      for (let i = 0; i < numTicks; ++i) {\n        this.tick();\n      }\n    }, this.timestep);\n  }\n}\n","import { JSONObject, JSONValue } from \"./json\";\n\nexport function serialize(data: any): JSONValue {\n  return JSON.parse(JSON.stringify(data)) as JSONValue;\n}\n\nexport function deserialize(source: JSONObject, dest: Record<string, any>): void {\n  // Deep copy hack.\n  const copy = JSON.parse(JSON.stringify(source));\n\n  // Copy values into source.\n  for (const [key, value] of Object.entries(copy)) {\n    dest[key] = copy[key];\n  }\n}\n","import * as autoserialize from \"./autoserialize\";\nimport { JSONObject, JSONValue } from \"./json\";\n\nexport abstract class NetplayState<TInput extends NetplayInput<TInput>> {\n  abstract tick(playerInputs: Map<NetplayPlayer, TInput>): void;\n\n  /**\n   * By default, use the auto serializer.\n   */\n  serialize(): JSONValue {\n    return autoserialize.serialize(this);\n  }\n\n  /**\n   * By default, use the auto deserializer.\n   */\n  deserialize(value: JSONValue): void {\n    autoserialize.deserialize(value as JSONObject, this);\n  }\n}\n\nexport abstract class NetplayInput<TInput extends NetplayInput<TInput>> {\n  /**\n   * By default, the prediction is to just use the same value.\n   */\n  predictNext(): TInput {\n    // @ts-ignore\n    return this;\n  }\n\n  /**\n   * By default, use the auto serializer.\n   */\n  serialize(): JSONValue {\n    return autoserialize.serialize(this);\n  }\n\n  /**\n   * By default, use the auto deserializer.\n   */\n  deserialize(value: JSONValue): void {\n    autoserialize.deserialize(value as JSONObject, this);\n  }\n}\n\nexport class NetplayPlayer {\n  id: number;\n  isLocal: boolean;\n  isHost: boolean;\n\n  constructor(id: number, isLocal: boolean, isHost: boolean) {\n    this.id = id;\n    this.isLocal = isLocal;\n    this.isHost = isHost;\n  }\n  isLocalPlayer(): boolean {\n    return this.isLocal;\n  }\n  isRemotePlayer(): boolean {\n    return !this.isLocal;\n  }\n  isServer(): boolean {\n    return this.isHost;\n  }\n  isClient(): boolean {\n    return !this.isHost;\n  }\n  getID(): number {\n    return this.id;\n  }\n}\n\nexport interface GameType<TState, TInput> {\n  /**\n   * Given a list of players, return the initial game state.\n   */\n  constructInitialState(players: Array<NetplayPlayer>): TState;\n\n  /**\n   * Construct a new input object with a default value. A new object\n   * needs to be constructed, since serialized values will be copied into this.\n   */\n  constructDefaultInput(): TInput;\n\n  /**\n   * The game simulation timestep, in milliseconds.\n   */\n  timestep: number;\n\n  // The dimensions of the rendering canvas.\n  canvasWidth: number;\n  canvasHeight: number;\n\n  draw(state: TState, canvas: HTMLCanvasElement, ctx: CanvasRenderingContext2D);\n\n  getInputReader(\n    document: HTMLDocument,\n    canvas: HTMLCanvasElement\n  ): () => TInput;\n}\n","export function get<K, V>(map: Map<K, V>, key: K): V {\n  const result = map.get(key);\n  if (result !== undefined) {\n    return result;\n  }\n  throw new Error(`Key ${String(key)} not in Map ${map.toString()}`);\n}\n\nexport function clone(object: any): any {\n  return JSON.parse(JSON.stringify(object));\n}\n\nexport function shift<V>(array: Array<V>): V {\n  const result = array.shift();\n  if (result !== undefined) {\n    return result;\n  }\n  throw new Error(`Shift returned undefined from Array ${array.toString()}`);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('main-layout')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-layout\"},[_c('aspect-ratio-letterbox',[_c('game-canvas')],1),(this.shouldShowNetplayMenu)?_c('netplay-menu'):_vm._e(),(this.shouldShowNetplayStats)?_c('netplay-stats'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"aspectRatioWrapper\",class:this.shouldUseHorizontalLetterbox ? 'aspect-ratio-wrapper-h' : 'aspect-ratio-wrapper-v'},[_c('div',{class:this.shouldUseHorizontalLetterbox ? 'aspect-ratio-div-h' : 'aspect-ratio-div-v'},[_c('div',{staticClass:\"content-wrapper\"},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\n// forces 16:9. Not using consts for 16:9 because css is involved \n\nexport default Vue.extend({\n  name: \"AspectRatioLetterbox\",\n  data: function() {\n    return {\n      shouldUseHorizontalLetterbox: true\n    }\n  },\n\tmethods: {\n\t\tdetectWidth() {\n\t\t\tconst aspectRatioWrapperElement = this.$refs.aspectRatioWrapper as Element;\n      const contentWrapperAspectRatio = aspectRatioWrapperElement.clientWidth / aspectRatioWrapperElement.clientHeight\n\t\t\tthis.shouldUseHorizontalLetterbox = contentWrapperAspectRatio >= (16 / 9);\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.detectWidth();\n\t\twindow.onresize = this.detectWidth.bind(this);\n\t}\n});\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AspectRatioLetterbox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AspectRatioLetterbox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AspectRatioLetterbox.vue?vue&type=template&id=f8cb903a&scoped=true&\"\nimport script from \"./AspectRatioLetterbox.vue?vue&type=script&lang=ts&\"\nexport * from \"./AspectRatioLetterbox.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AspectRatioLetterbox.vue?vue&type=style&index=0&id=f8cb903a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8cb903a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvas-wrapper\"},[_c('canvas-overlay',{staticClass:\"canvas-overlay-from-parent\"}),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{attrs:{\"id\":\"game-canvas\"}})}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvas-overlay\"},[_c('hud-section',{staticClass:\"hud-section-from-parent\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hud-section\"},_vm._l((_vm.players),function(player){return _c('player-meter',{key:player.index,attrs:{\"playerIndex\":player.index}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"player-meter-wrapper\"},[_c('div',{staticClass:\"player-meter\"},[_c('div',{staticClass:\"meter-bg\"},[_c('div',{staticClass:\"meter-fg\",style:(_vm.injectBarWidthStyle())})])]),_c('div',{staticClass:\"amount-text\"},[_vm._v(\" \"+_vm._s(_vm.displayNumber)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PlayerMeter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PlayerMeter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PlayerMeter.vue?vue&type=template&id=1fa2f416&scoped=true&\"\nimport script from \"./PlayerMeter.vue?vue&type=script&lang=ts&\"\nexport * from \"./PlayerMeter.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PlayerMeter.vue?vue&type=style&index=0&id=1fa2f416&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1fa2f416\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HudSection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HudSection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HudSection.vue?vue&type=template&id=0c1a4603&scoped=true&\"\nimport script from \"./HudSection.vue?vue&type=script&lang=ts&\"\nexport * from \"./HudSection.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HudSection.vue?vue&type=style&index=0&id=0c1a4603&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c1a4603\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CanvasOverlay.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CanvasOverlay.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CanvasOverlay.vue?vue&type=template&id=4e4af283&scoped=true&\"\nimport script from \"./CanvasOverlay.vue?vue&type=script&lang=ts&\"\nexport * from \"./CanvasOverlay.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CanvasOverlay.vue?vue&type=style&index=0&id=4e4af283&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e4af283\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GameCanvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GameCanvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameCanvas.vue?vue&type=template&id=5f898446&scoped=true&\"\nimport script from \"./GameCanvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameCanvas.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GameCanvas.vue?vue&type=style&index=0&id=5f898446&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f898446\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"netplay-menu-wrapper\"},[_c('card-box',[_c('div',{staticClass:\"netplay-menu-column\"},[_c('button',{on:{\"click\":_vm.copyToClipboard}},[_vm._v(\" Copy Player 2 Link to Clipboard \")]),_c('a',{attrs:{\"href\":this.vueService.state.netplay.joinUrl,\"target\":\"_blank\"}},[_vm._v(\" Open Player 2 Tab \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CardBox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CardBox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CardBox.vue?vue&type=template&id=2d925e7c&scoped=true&\"\nimport script from \"./CardBox.vue?vue&type=script&lang=ts&\"\nexport * from \"./CardBox.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CardBox.vue?vue&type=style&index=0&id=2d925e7c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d925e7c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NetplayMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NetplayMenu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NetplayMenu.vue?vue&type=template&id=323814d5&scoped=true&\"\nimport script from \"./NetplayMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./NetplayMenu.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NetplayMenu.vue?vue&type=style&index=0&id=323814d5&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"323814d5\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"netplay-stats-wrapper\"},[_c('card-box',[_c('table',{staticClass:\"netplay-stats-table\"},[(!!this.vueService.state.netplay.errorMessage)?_c('span',[_vm._v(\" \"+_vm._s(this.vueService.state.netplay.errorMessage)+\" \")]):_vm._e(),_c('tr',[_c('td',[_vm._v(\"Ping\")]),_c('td',[_vm._v(_vm._s(this.ping))])]),_c('tr',[_c('td',[_vm._v(\"History Length\")]),_c('td',[_vm._v(_vm._s(this.vueService.state.netplay.historyLength))])]),_c('tr',[_c('td',[_vm._v(\"Frame\")]),_c('td',[_vm._v(_vm._s(this.vueService.state.netplay.frame))])]),_c('tr',[_c('td',[_vm._v(\"Largest Future Size\")]),_c('td',[_vm._v(_vm._s(this.vueService.state.netplay.largestFutureSize))])]),_c('tr',[_c('td',[_vm._v(\"Predicted Frames\")]),_c('td',[_vm._v(_vm._s(this.vueService.state.netplay.predictedFrames))])]),_c('tr',[_c('td',[_vm._v(\"Stalling\")]),_c('td',[_vm._v(_vm._s(this.vueService.state.netplay.stalling))])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NetplayStats.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NetplayStats.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NetplayStats.vue?vue&type=template&id=64f04334&scoped=true&\"\nimport script from \"./NetplayStats.vue?vue&type=script&lang=ts&\"\nexport * from \"./NetplayStats.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NetplayStats.vue?vue&type=style&index=0&id=64f04334&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64f04334\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainLayout.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainLayout.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MainLayout.vue?vue&type=template&id=c2b29102&scoped=true&\"\nimport script from \"./MainLayout.vue?vue&type=script&lang=ts&\"\nexport * from \"./MainLayout.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MainLayout.vue?vue&type=style&index=0&id=c2b29102&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c2b29102\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=21d134e4&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport App from \"./Vue/App.vue\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  render: h => h(App)\n}).$mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var webpackThen = typeof Symbol === \"function\" ? Symbol(\"webpack then\") : \"__webpack_then__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar completeQueue = function(queue) {\n\tif(queue) {\n\t\tqueue.forEach(function(fn) { fn.r--; });\n\t\tqueue.forEach(function(fn) { fn.r-- ? fn.r++ : fn(); });\n\t}\n}\nvar completeFunction = function(fn) { !--fn.r && fn(); };\nvar queueFunction = function(queue, fn) { queue ? queue.push(fn) : completeFunction(fn); };\nvar wrapDeps = function(deps) { return deps.map(function(dep) {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackThen]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tdep.then(function(r) {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tcompleteQueue(queue);\n\t\t\t\tqueue = 0;\n\t\t\t}, function(e) {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tcompleteQueue(queue);\n\t\t\t\tqueue = 0;\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackThen] = function(fn, reject) { queueFunction(queue, fn), dep['catch'](reject); };\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackThen] = function(fn) { completeFunction(fn); };\n\tret[webpackExports] = dep;\n\treturn ret;\n}); };\n__webpack_require__.a = function(module, body, hasAwait) {\n\tvar queue = hasAwait && [];\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar isEvaluating = true;\n\tvar nested = false;\n\tvar whenAll = function(deps, onResolve, onReject) {\n\t\tif (nested) return;\n\t\tnested = true;\n\t\tonResolve.r += deps.length;\n\t\tdeps.map(function(dep, i) { dep[webpackThen](onResolve, onReject); });\n\t\tnested = false;\n\t};\n\tvar promise = new Promise(function(resolve, rej) {\n\t\treject = rej;\n\t\touterResolve = function() { resolve(exports), completeQueue(queue), queue = 0; };\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackThen] = function(fn, rejectFn) {\n\t\tif (isEvaluating) { return completeFunction(fn); }\n\t\tif (currentDeps) whenAll(currentDeps, fn, rejectFn);\n\t\tqueueFunction(queue, fn);\n\t\tpromise['catch'](rejectFn);\n\t};\n\tmodule.exports = promise;\n\tbody(function(deps) {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = function() { return currentDeps.map(function(d) {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}); }\n\t\tvar promise = new Promise(function(resolve, reject) {\n\t\t\tfn = function() { resolve(getResult); };\n\t\t\tfn.r = 0;\n\t\t\twhenAll(currentDeps, fn, reject);\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, function(err) { err && reject(promise[webpackError] = err), outerResolve(); });\n\tisEvaluating = false;\n};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.v = function(exports, wasmModuleId, wasmModuleHash, importsObj) {\n\tvar req = fetch(__webpack_require__.p + \"\" + wasmModuleHash + \".module.wasm\");\n\tif (typeof WebAssembly.instantiateStreaming === 'function') {\n\t\treturn WebAssembly.instantiateStreaming(req, importsObj)\n\t\t\t.then(function(res) { return Object.assign(exports, res.instance.exports); });\n\t}\n\treturn req\n\t\t.then(function(x) { return x.arrayBuffer(); })\n\t\t.then(function(bytes) { return WebAssembly.instantiate(bytes, importsObj); })\n\t\t.then(function(res) { return Object.assign(exports, res.instance.exports); });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgame\"] = self[\"webpackChunkgame\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(1851); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","id","module","exports","GameObject","tick","Ball","constructor","props","super","this","scene","colliderHandle","createCollider","rigidBodyDesc","RigidBodyDesc","rigidBody","world","createRigidBody","colliderDesc","ColliderDesc","r","setTranslation","x","y","returnCollider","handle","render","canvas","c","getContext","fillStyle","collider","getCollider","xPosition","yPosition","translation","radius","beginPath","arc","Math","PI","fill","PulsePlayerObject","handleMovement","xAxisInput","yAxisInput","ACCELERATION_CONSTANT_X","ACCELERATION_CONSTANT_Y","getRigidBody","parent","velocity","linvel","xInputForce","yInputForce","impulseX","mass","impulseY","impulse","applyImpulse","pulse","Bezier","Wall","groundColliderDesc","w","h","setRotation","rotation","returnColliderHandle","console","log","halfX","halfY","halfExtents","rect","gamepadNoInputResult","button1","button2","button3","button4","leftStickXAxis","leftStickYAxis","rightStickXAxis","rightStickYAxis","leftTriggerAxis","rightTriggerAxis","InputServiceImplementation","getGamepadInput","input","gamepadIndex","config","gamepad","gamepads","mapping","gamepadInputMapping","leftStickMagnitude","sqrt","pow","abs","axes","leftStickXAxisIndex","leftStickYAxisIndex","rightStickMagnitude","rightStickXAxisIndex","rightStickYAxisIndex","isLeftStickDeadzoned","leftStickDeadzone","isRightStickDeadzoned","rightStickDeadzone","detectedInput","buttons","button1Index","pressed","button2Index","button3Index","button4Index","leftTriggerAxisIndex","rightTriggerAxisIndex","getKeyboardMouseInput","keyboardMouseInputMapping","button1Key","button2Key","button3Key","button4Key","buttonUp","buttonUpKey","buttonRight","buttonRightKey","buttonDown","buttonDownKey","buttonLeft","buttonLeftKey","InputService","Player","playerIndex","netplayPlayerIndex","inputConfig","resourceMeter","RESOURCE_METER_BEGIN","getInput","defaultInputConfig","setResourceMeter","value","newValue","min","RESOURCE_METER_MAXIMUM","VueService","PulsePlayer","RADIUS","pulseObject","undefined","createObjects","addGameObject","isGamePadInputResult","Scene","unitWidth","unitHeight","gameObjects","setup","canvasElementWidth","getBoundingClientRect","width","canvasElementHeight","height","transform","xScaling","yScaling","squareScaling","scale","renderBackground","renderGameObjects","newObject","push","forEach","gameObject","fillRect","SCENE_WIDTH","SCENE_HEIGHT","UI_HEIGHT","NON_UI_HEIGHT","ARENA_WIDTH","ARENA_HEIGHT","ARENA_HORIZONTAL_PADDING","ARENA_VERTICAL_PADDING","WALL_THICKNESS","createScene1","gravity","World","returnScene","player1","players","player2","MyGame","Game","serialize","snapshot","takeSnapshot","toString","deserialize","splitSnapshot","split","array","Uint8Array","playerInputs","tickWorld","tickPlayers","colliders","forEachCollider","draw","player","netplayPlayer","entries","getID","step","MyRollbackWrapper","start","EWMASD","discount","est_average","est_variance","initialized","update","measurement","delta","average","variance","stddev","MyInput","DefaultInput","MyInputReader","DefaultInputReader","key","PRESSED_KEYS","navigator","getGamepads","PING_INTERVAL","isChannelOrdered","channel","ordered","isChannelReliable","maxPacketLifeTime","maxRetransmits","checkChannel","assert","gameClass","stateSyncPeriod","document","getElementById","touchControls","window","userAgent","toLowerCase","includes","name","control","Object","show","inputReader","pointerLock","info","vueService","setNetplayConnectingToServer","peer","Peer","on","err","setNetplayErrorMessage","JSON","stringify","error","parsedHash","query","location","hash","isClient","room","setNetplayConnectedToPeer","conn","connect","serialization","reliable","_payload","originator","NetplayPlayer","startClient","joinURL","href","setNetplayJoinUrl","startHost","getInitialInputs","initialInputs","Map","set","game","rollbackNetcode","RollbackNetcode","pingMeasure","timestep","frame","send","type","state","data","onRemoteInput","sent_time","Date","now","dataChannel","setInterval","startGameLoop","onStateSync","animate","timestamp","setNetplayPing","toFixed","setNetplayPingStdDev","setNetplayHistoryLength","history","length","setNetplayFrame","currentFrame","setNetplayLargestFutureSize","largestFutureSize","setNetplayPredictedFrames","predictedFrames","setNetplayStalling","shouldStall","requestAnimationFrame","defaultXboxOneInputMapping","defaultKeyboardMouseInputMapping","VueServiceImplementation","netplay","connectingToServer","connectedToPeer","joinUrl","errorMessage","ping","pingStdDev","historyLength","stalling","playerDict","addPlayer","playerState","Vue","index","setPlayerResourceMeter","placeholderSetting","NetplayInput","getCanvasScale","projectClientPosition","clientX","clientY","left","top","addEventListener","event","updateMousePosition","mousePosition","updateTouches","requestPointerLock","pointerLockElement","movementX","movementY","touches","targetTouches","i","utils","getValue","NetplayState","DEV","process","RollbackHistory","inputs","isPlayerInputPredicted","get","isPrediction","anyInputPredicted","allInputsSynced","isHost","cleanedUpStates","shift","debug","currentState","getStateInputs","clone","isRemotePlayer","expectedFrame","highestFrameReceived","future","firstPrediction","lastActualState","currentPlayerInput","previousState","previousPlayerInput","predictNext","firstState","nextState","syncedState","broadcastState","initialState","maxPredictedFrames","pollInput","broadcastInput","historyInputs","max","Array","from","values","map","a","lastState","newInputs","isLocalPlayer","localInput","stateInputs","numTicks","parse","source","dest","copy","autoserialize","isLocal","isServer","result","String","object","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","_e","ref","class","shouldUseHorizontalLetterbox","_t","methods","detectWidth","aspectRatioWrapperElement","$refs","aspectRatioWrapper","contentWrapperAspectRatio","clientWidth","clientHeight","mounted","onresize","bind","component","_m","_l","style","injectBarWidthStyle","_v","_s","displayNumber","Number","computed","floor","components","PlayerMeter","HudSection","CanvasOverlay","copyToClipboard","CardBox","clipboard","writeText","AspectRatioLetterbox","NetplayMenu","NetplayStats","GameCanvas","shouldShowNetplayMenu","shouldShowNetplayStats","MainLayout","require","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","call","m","webpackThen","Symbol","webpackExports","webpackError","completeQueue","queue","fn","completeFunction","queueFunction","wrapDeps","deps","dep","then","obj","reject","ret","body","hasAwait","currentDeps","outerResolve","isEvaluating","nested","whenAll","onResolve","onReject","promise","Promise","rej","rejectFn","getResult","d","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","splice","n","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","Function","hmd","create","children","prop","prototype","hasOwnProperty","toStringTag","v","wasmModuleId","wasmModuleHash","importsObj","fetch","p","WebAssembly","instantiateStreaming","res","assign","instance","arrayBuffer","bytes","instantiate","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}